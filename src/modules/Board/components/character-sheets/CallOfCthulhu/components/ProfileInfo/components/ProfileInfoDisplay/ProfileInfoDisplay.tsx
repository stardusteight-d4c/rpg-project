"use client"

import { DonutChart } from "@/shared/components"

interface ProfileInfoDisplayProps {
  infos: {
    name: string
    sex: "male" | "female"
    characterUrl: string
    occupation: string
    hitPoints: number
    magicPoints: number
    sanity: number
  }
  player: {
    id: string
    name: string
    username: string
    avatarUrl: string
  }
  isEditMode?: boolean
}

export const ProfileInfoDisplay = ({
  infos,
  player,
  isEditMode,
}: ProfileInfoDisplayProps) => {
  const currentSession = {
    id: "alsmdlsamdslamds",
    name: "Gabriel Sena",
    username: "#stardusteight",
    avatarUrl: "https://avatars.githubusercontent.com/u/87643260?v=4",
  }

  if (!isEditMode) {
    return (
      <div className="flex w-full">
        <img
          src={infos.characterUrl}
          alt="Imagem do Personagem"
          className="min-w-[210px] max-w-[210px] min-h-[210px] max-h-[210px] border border-border object-cover rounded"
        />
        <div className="w-full px-4">
          <div className="flex items-center gap-x-2">
            <span className="block text-3xl font-bold background-gradient bg-clip-text text-transparent">
              {infos.name}{" "}
            </span>
            {infos.sex === "male" && (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="32"
                height="32"
                fill="#3b82f6"
                viewBox="0 0 256 256"
                className="bg-border p-1 rounded-full"
              >
                <path d="M216,32H168a8,8,0,0,0,0,16h28.69L154.62,90.07a80,80,0,1,0,11.31,11.31L208,59.32V88a8,8,0,0,0,16,0V40A8,8,0,0,0,216,32ZM149.24,197.29a64,64,0,1,1,0-90.53A64.1,64.1,0,0,1,149.24,197.29Z"></path>
              </svg>
            )}
            {infos.sex === "female" && (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="32"
                height="32"
                fill="#ec4899"
                viewBox="0 0 256 256"
                className="bg-border p-1 rounded-full"
              >
                <path d="M208,96a80,80,0,1,0-88,79.6V200H88a8,8,0,0,0,0,16h32v24a8,8,0,0,0,16,0V216h32a8,8,0,0,0,0-16H136V175.6A80.11,80.11,0,0,0,208,96ZM64,96a64,64,0,1,1,64,64A64.07,64.07,0,0,1,64,96Z"></path>
              </svg>
            )}
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="22"
              height="22"
              fill="#9ca3af"
              viewBox="0 0 256 256"
              className="ml-auto cursor-pointer"
            >
              {/* PLAYER INFO */}
              <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path>
            </svg>
          </div>
          <span className="text-sm text-gray-400 block">
            {infos.occupation} in Call of Cthulhu
          </span>
          <div className="mt-2">
            <div className="mt-2 flex w-full items-center gap-4">
              <div className="w-full">
                <div className="flex font-medium justify-between">
                  <span className="font-medium">Hit Points</span>
                  <span>{infos.hitPoints}%</span>{" "}
                </div>
                <div className="w-full bg-border overflow-hidden h-3 rounded-full">
                  <div
                    className="h-full rounded-full bg-gradient-to-tr from-red-500 to-red-400"
                    style={{ width: `${infos.hitPoints}%` }}
                  ></div>
                </div>
              </div>
              <div className="w-full">
                <div className="flex font-medium justify-between">
                  <span className="font-medium">Magic Points</span>
                  <span>{infos.magicPoints}%</span>{" "}
                </div>
                <div className="w-full bg-border overflow-hidden h-3 rounded-full">
                  <div
                    className="h-full rounded-full bg-gradient-to-tr from-blue-500 to-blue-400"
                    style={{ width: `${infos.magicPoints}%` }}
                  ></div>
                </div>
              </div>
            </div>
            <div className="w-fit relative text-lg mt-4 mx-auto">
              <span className="font-medium absolute top-1/2 -translate-y-1/2 -left-[75px]">
                Sanity
              </span>
              <div className="relative">
                <svg
                  width="38"
                  height="38"
                  viewBox="0 0 32 32"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  className="absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2"
                >
                  <path
                    d="M31 15.4995C30.9986 14.1749 30.6223 12.8778 29.9144 11.7582C29.2065 10.6387 28.196 9.74243 27 9.17326V8.99951C26.9988 7.71104 26.5829 6.45716 25.8138 5.4234C25.0447 4.38965 23.9632 3.63094 22.7294 3.25955C21.4957 2.88815 20.1751 2.92379 18.9631 3.36119C17.7512 3.7986 16.7122 4.61453 16 5.68826C15.2877 4.61453 14.2488 3.7986 13.0368 3.36119C11.8248 2.92379 10.5043 2.88815 9.27048 3.25955C8.03669 3.63094 6.95523 4.38965 6.18612 5.4234C5.41702 6.45716 5.00111 7.71104 4.99996 8.99951V9.17326C3.80288 9.74087 2.79146 10.6365 2.08322 11.7562C1.37499 12.8758 0.999023 14.1734 0.999023 15.4983C0.999023 16.8231 1.37499 18.1207 2.08322 19.2404C2.79146 20.36 3.80288 21.2557 4.99996 21.8233V21.9995C5.00111 23.288 5.41702 24.5419 6.18612 25.5756C6.95523 26.6094 8.03669 27.3681 9.27048 27.7395C10.5043 28.1109 11.8248 28.0752 13.0368 27.6378C14.2488 27.2004 15.2877 26.3845 16 25.3108C16.7122 26.3845 17.7512 27.2004 18.9631 27.6378C20.1751 28.0752 21.4957 28.1109 22.7294 27.7395C23.9632 27.3681 25.0447 26.6094 25.8138 25.5756C26.5829 24.5419 26.9988 23.288 27 21.9995V21.8233C28.1958 21.2545 29.2062 20.3587 29.9141 19.2396C30.622 18.1205 30.9985 16.8237 31 15.4995ZM11 25.9995C10.0136 25.9994 9.06216 25.6348 8.32824 24.9759C7.59433 24.317 7.12974 23.4101 7.02371 22.4295C7.34709 22.4756 7.67331 22.499 7.99996 22.4995H8.99996C9.26518 22.4995 9.51953 22.3942 9.70707 22.2066C9.8946 22.0191 9.99996 21.7647 9.99996 21.4995C9.99996 21.2343 9.8946 20.9799 9.70707 20.7924C9.51953 20.6049 9.26518 20.4995 8.99996 20.4995H7.99996C6.81941 20.5009 5.67645 20.0845 4.77343 19.3241C3.87042 18.5636 3.2656 17.5082 3.06606 16.3446C2.86652 15.1811 3.08513 13.9844 3.68318 12.9666C4.28123 11.9487 5.22016 11.1753 6.33371 10.7833C6.52855 10.7143 6.69723 10.5866 6.81654 10.4178C6.93585 10.2491 6.99993 10.0475 6.99996 9.84076V8.99951C6.99996 7.93865 7.42139 6.92123 8.17153 6.17108C8.92168 5.42094 9.93909 4.99951 11 4.99951C12.0608 4.99951 13.0782 5.42094 13.8284 6.17108C14.5785 6.92123 15 7.93865 15 8.99951V17.532C13.9019 16.5444 12.4769 15.9984 11 15.9995C10.7347 15.9995 10.4804 16.1049 10.2929 16.2924C10.1053 16.4799 9.99996 16.7343 9.99996 16.9995C9.99996 17.2647 10.1053 17.5191 10.2929 17.7066C10.4804 17.8942 10.7347 17.9995 11 17.9995C12.0608 17.9995 13.0782 18.4209 13.8284 19.1711C14.5785 19.9212 15 20.9386 15 21.9995C15 23.0604 14.5785 24.0778 13.8284 24.8279C13.0782 25.5781 12.0608 25.9995 11 25.9995ZM24 20.4995H23C22.7347 20.4995 22.4804 20.6049 22.2929 20.7924C22.1053 20.9799 22 21.2343 22 21.4995C22 21.7647 22.1053 22.0191 22.2929 22.2066C22.4804 22.3942 22.7347 22.4995 23 22.4995H24C24.3266 22.499 24.6528 22.4756 24.9762 22.4295C24.8931 23.1978 24.5893 23.9257 24.1013 24.525C23.6134 25.1243 22.9623 25.5694 22.2268 25.8065C21.4913 26.0437 20.7028 26.0627 19.9567 25.8612C19.2106 25.6598 18.5388 25.2465 18.0226 24.6714C17.5064 24.0963 17.1679 23.3839 17.0479 22.6205C16.9279 21.857 17.0317 21.0752 17.3466 20.3694C17.6615 19.6637 18.1742 19.0643 18.8225 18.6437C19.4709 18.2232 20.2271 17.9994 21 17.9995C21.2652 17.9995 21.5195 17.8942 21.7071 17.7066C21.8946 17.5191 22 17.2647 22 16.9995C22 16.7343 21.8946 16.4799 21.7071 16.2924C21.5195 16.1049 21.2652 15.9995 21 15.9995C19.523 15.9984 18.0981 16.5444 17 17.532V8.99951C17 7.93865 17.4214 6.92123 18.1715 6.17108C18.9217 5.42094 19.9391 4.99951 21 4.99951C22.0608 4.99951 23.0782 5.42094 23.8284 6.17108C24.5785 6.92123 25 7.93865 25 8.99951V9.84076C25 10.0475 25.0641 10.2491 25.1834 10.4178C25.3027 10.5866 25.4714 10.7143 25.6662 10.7833C26.7798 11.1753 27.7187 11.9487 28.3167 12.9666C28.9148 13.9844 29.1334 15.1811 28.9339 16.3446C28.7343 17.5082 28.1295 18.5636 27.2265 19.3241C26.3235 20.0845 25.1805 20.5009 24 20.4995ZM26 13.9995C26 14.2647 25.8946 14.5191 25.7071 14.7066C25.5195 14.8942 25.2652 14.9995 25 14.9995H24.5C23.3065 14.9995 22.1619 14.5254 21.318 13.6815C20.4741 12.8376 20 11.693 20 10.4995V9.99951C20 9.7343 20.1053 9.47994 20.2929 9.29241C20.4804 9.10487 20.7347 8.99951 21 8.99951C21.2652 8.99951 21.5195 9.10487 21.7071 9.29241C21.8946 9.47994 22 9.7343 22 9.99951V10.4995C22 11.1626 22.2634 11.7984 22.7322 12.2673C23.201 12.7361 23.8369 12.9995 24.5 12.9995H25C25.2652 12.9995 25.5195 13.1049 25.7071 13.2924C25.8946 13.4799 26 13.7343 26 13.9995ZM7.49996 14.9995H6.99996C6.73474 14.9995 6.48039 14.8942 6.29285 14.7066C6.10532 14.5191 5.99996 14.2647 5.99996 13.9995C5.99996 13.7343 6.10532 13.4799 6.29285 13.2924C6.48039 13.1049 6.73474 12.9995 6.99996 12.9995H7.49996C8.163 12.9995 8.79889 12.7361 9.26773 12.2673C9.73657 11.7984 9.99996 11.1626 9.99996 10.4995V9.99951C9.99996 9.7343 10.1053 9.47994 10.2929 9.29241C10.4804 9.10487 10.7347 8.99951 11 8.99951C11.2652 8.99951 11.5195 9.10487 11.7071 9.29241C11.8946 9.47994 12 9.7343 12 9.99951V10.4995C12 11.693 11.5259 12.8376 10.6819 13.6815C9.83803 14.5254 8.69344 14.9995 7.49996 14.9995Z"
                    fill="url(#paint0_linear_45_8)"
                  />
                  <defs>
                    <linearGradient
                      id="paint0_linear_45_8"
                      x1="15.9995"
                      y1="3.00488"
                      x2="15.9995"
                      y2="27.9941"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop stopColor="#42D392" />
                      <stop offset="1" stopColor="#8B5CF6" />
                    </linearGradient>
                  </defs>
                </svg>
                <DonutChart
                  percentage={infos.sanity}
                  size={80}
                  strokeWidth={10}
                />
              </div>
              <span className="font-medium absolute top-1/2 -translate-y-1/2 -right-[60px]">
                {infos.sanity}%
              </span>
            </div>
          </div>
        </div>
      </div>
    )
  }
}
